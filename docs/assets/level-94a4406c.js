import{a4 as F,e as C,q as P,G as E,y as g,v as l,x as i,H as k,a7 as o,a2 as h}from"./index-fd81ca4d.js";import{c as L,E as m,a as I,b as U,d as B,e as S,f as W,g as z}from"./el-table-column-ca176115.js";import{b as $,c as M,a as O,E as G}from"./el-input-ed77e849.js";import{E as N}from"./el-input-number-13b15aff.js";import{a as D,g as T,d as A,b as q,u as H}from"./level-212b87c4.js";/* empty css                   */import"./index-e015c31c.js";const j=C({data(){return{members:[],page:{total:0,current:1,size:10},searchId:null,dialogFormVisible:!1,member:{defaultStatus:0,freeFreightPoint:0,id:0,name:"",priviledgeBirthday:0,priviledgeComment:0,priviledgeFreeFreight:0,priviledgeMemberPrice:0,priviledgePromotion:0,priviledgeSignIn:0},formLabelWidth:80}},mounted(){this.getLevelsPage(1)},methods:{search(){if(this.searchId==null||this.searchId==""){alert("请输入等级编号后查询");return}D(this.searchId).then(e=>{e.data==null?this.members=[]:(this.members=[],this.members.push(e.data.help))}).catch(e=>{console.log(e)})},research(){this.searchId=null,this.getLevelsPage(1)},toEdit(e){this.dialogFormVisible=!0,this.member=L(e)},getLevelsPage(e){T({current:e,size:10}).then(u=>{console.log(u);const b=u.data.page;this.members=b.records,this.page=b}).catch(u=>{console.log(u)})},currentchange(e){this.getLevelsPage(e),this.page.current=e},del(e){confirm("是否删除")==!0&&console.log(e),console.log(e),A(e).then(a=>{if(a.success)this.getLevelsPage(this.page.current);else return!1}).catch(a=>{})},toAdd(){this.dialogFormVisible=!0,this.member={defaultStatus:0,freeFreightPoint:0,id:0,name:"",priviledgeBirthday:0,priviledgeComment:0,priviledgeFreeFreight:0,priviledgeMemberPrice:0,priviledgePromotion:0,priviledgeSignIn:0}},save(){const e=this.member;e.id==0?q(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getLevelsPage(this.page.current),m(a.msg);else return m(a.msg),!1}).catch(a=>{m("网络错误联系管理员")}):H(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getLevelsPage(this.page.current),m(a.msg);else return m(a.msg),!1}).catch(a=>{m("网络错误联系管理员")})}}}),J={style:{"margin-top":"10px"}},K={style:{width:"95%",margin:"0 auto"}},Q={class:"dialog-footer"};function R(e,a,u,b,X,Y){const f=O,n=$,s=M,d=S,w=I,c=U,v=N,r=W,p=z,V=G,y=B;return P(),E(k,null,[g("div",J,[g("div",K,[l(n,{label:"等级编号","label-width":80,style:{display:"inline-flex","margin-right":"10px"}},{default:i(()=>[l(f,{modelValue:e.searchId,"onUpdate:modelValue":a[0]||(a[0]=t=>e.searchId=t),placeholder:"请输入等级编号"},null,8,["modelValue"])]),_:1}),l(s,{type:"primary",onClick:e.search},{default:i(()=>[o("查询")]),_:1},8,["onClick"]),l(s,{type:"info",onClick:e.research},{default:i(()=>[o("重置")]),_:1},8,["onClick"]),l(s,{type:"success",onClick:e.toAdd},{default:i(()=>[o("添加 ")]),_:1},8,["onClick"])]),l(w,{data:e.members,style:{width:"95%",margin:"0 auto"}},{default:i(()=>[l(d,{prop:"id",label:"编号",width:"80"}),l(d,{prop:"name",label:"名称",width:"120"}),l(d,{prop:"commentGrowthPoint",label:"获取成长值",width:"120"}),l(d,{prop:"freeFreightPoint",label:"免运费标准",width:"120"}),l(d,{label:"默认等级",width:"100"},{default:i(t=>[o(h(t.row.defaultStatus==0?"不是":"是"),1)]),_:1}),l(d,{label:"生日特权",width:"100"},{default:i(t=>[o(h(t.row.priviledgeBirthday==0?"不是":"是"),1)]),_:1}),l(d,{label:"奖励特权",width:"100"},{default:i(t=>[o(h(t.row.priviledgeComment==0?"不是":"是"),1)]),_:1}),l(d,{label:"免邮特权",width:"100"},{default:i(t=>[o(h(t.row.priviledgeFreeFreight==0?"不是":"是"),1)]),_:1}),l(d,{label:"会员价格",width:"100"},{default:i(t=>[o(h(t.row.会员价格特权==0?"不是":"是"),1)]),_:1}),l(d,{fixed:"right",label:"功能管理",width:"140"},{default:i(t=>[l(s,{type:"warning",size:"small",link:"",onClick:_=>e.toEdit(t.row)},{default:i(()=>[o("更新")]),_:2},1032,["onClick"]),l(s,{type:"danger",link:"",size:"small",onClick:_=>e.del(t.row.id)},{default:i(()=>[o("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(c,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,style:{width:"95%",margin:"0 auto"},onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),l(y,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[10]||(a[10]=t=>e.dialogFormVisible=t),title:"等级编辑"},{footer:i(()=>[g("span",Q,[l(s,{onClick:a[9]||(a[9]=t=>e.dialogFormVisible=!1)},{default:i(()=>[o("取消")]),_:1}),l(s,{type:"primary",onClick:e.save},{default:i(()=>[o("保存 ")]),_:1},8,["onClick"])])]),default:i(()=>[l(V,{model:e.member},{default:i(()=>[l(n,{label:"名称","label-width":e.formLabelWidth},{default:i(()=>[l(f,{modelValue:e.member.name,"onUpdate:modelValue":a[1]||(a[1]=t=>e.member.name=t),placeholder:"请输入名称",style:{width:"80%"}},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"成长值","label-width":e.formLabelWidth},{default:i(()=>[l(v,{modelValue:e.member.commentGrowthPoint,"onUpdate:modelValue":a[2]||(a[2]=t=>e.member.commentGrowthPoint=t),placeholder:"请输入获取的成长值",style:{width:"80%"}},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"运费标准","label-width":e.formLabelWidth},{default:i(()=>[l(v,{modelValue:e.member.freeFreightPoint,"onUpdate:modelValue":a[3]||(a[3]=t=>e.member.freeFreightPoint=t),placeholder:"请输入运费标准",style:{width:"80%"}},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"默认等级","label-width":e.formLabelWidth},{default:i(()=>[l(p,{modelValue:e.member.defaultStatus,"onUpdate:modelValue":a[4]||(a[4]=t=>e.member.defaultStatus=t),placeholder:"请选择默认等级",style:{width:"80%"}},{default:i(()=>[l(r,{label:"不是",value:0}),l(r,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"生日特权","label-width":e.formLabelWidth},{default:i(()=>[l(p,{modelValue:e.member.priviledgeBirthday,"onUpdate:modelValue":a[5]||(a[5]=t=>e.member.priviledgeBirthday=t),placeholder:"请选择生日特权",style:{width:"80%"}},{default:i(()=>[l(r,{label:"不是",value:0}),l(r,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"奖励特权","label-width":e.formLabelWidth},{default:i(()=>[l(p,{modelValue:e.member.priviledgeComment,"onUpdate:modelValue":a[6]||(a[6]=t=>e.member.priviledgeComment=t),placeholder:"请选择奖励特权",style:{width:"80%"}},{default:i(()=>[l(r,{label:"不是",value:0}),l(r,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"免邮特权","label-width":e.formLabelWidth},{default:i(()=>[l(p,{modelValue:e.member.priviledgeFreeFreight,"onUpdate:modelValue":a[7]||(a[7]=t=>e.member.priviledgeFreeFreight=t),placeholder:"请选择免邮特权",style:{width:"80%"}},{default:i(()=>[l(r,{label:"不是",value:0}),l(r,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"会员价格","label-width":e.formLabelWidth},{default:i(()=>[l(p,{modelValue:e.member.priviledgeMemberPrice,"onUpdate:modelValue":a[8]||(a[8]=t=>e.member.priviledgeMemberPrice=t),placeholder:"请选择会员价格",style:{width:"80%"}},{default:i(()=>[l(r,{label:"不是",value:0}),l(r,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const oe=F(j,[["render",R],["__scopeId","data-v-fb121baa"]]);export{oe as default};
